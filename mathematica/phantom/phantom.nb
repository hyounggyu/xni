(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[         0,          0]
NotebookDataLength[     14589,        429]
NotebookOptionsPosition[     13122,        374]
NotebookOutlinePosition[     13480,        390]
CellTagsIndexPosition[     13437,        387]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Phantom3D", "Chapter",
 CellChangeTimes->{{3.6303621139933167`*^9, 3.630362116598289*^9}, {
  3.630382465823413*^9, 3.6303824690115767`*^9}, {3.630382639218523*^9, 
  3.630382641142062*^9}, {3.6306323649499617`*^9, 3.6306323672102833`*^9}}],

Cell[CellGroupData[{

Cell["Phantom 3D Volume Rendering", "Section",
 CellChangeTimes->{{3.630461762830947*^9, 3.630461767557589*^9}, {
  3.630634832068233*^9, 3.6306348383792543`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"region", "=", 
   RowBox[{"Phantom3DRegion", "[", 
    RowBox[{"{", 
     RowBox[{"RotationTransform", "[", 
      RowBox[{"0", ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "1"}], "}"}]}], "]"}], "}"}], "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.630395276480304*^9, 3.630395349052293*^9}, {
  3.630466581887068*^9, 3.63046658235574*^9}, {3.6314142403246193`*^9, 
  3.631414262033169*^9}, {3.6314145759961853`*^9, 3.631414584151113*^9}, {
  3.631416429737359*^9, 3.631416436891478*^9}, {3.631416679711625*^9, 
  3.631416694193655*^9}, {3.6314168963169203`*^9, 3.6314169045829487`*^9}, {
  3.6314170716543713`*^9, 3.6314171017888813`*^9}, {3.631420857710617*^9, 
  3.631420870456716*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"range", "=", 
   RowBox[{"Drop", "[", 
    RowBox[{
     RowBox[{"Range", "[", 
      RowBox[{
       RowBox[{"-", "1"}], ",", "1", ",", "0.02"}], "]"}], ",", 
     RowBox[{"-", "1"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"points", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"x", ",", "y", ",", "z"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"x", ",", "range"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"y", ",", "range"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"z", ",", "range"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"data", "=", 
   RowBox[{"Phantom3DRegionToData", "[", 
    RowBox[{"region", ",", "points"}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.6303963745119762`*^9, 3.630396400272155*^9}, {
  3.631414594466934*^9, 3.631414595198646*^9}, {3.6314171095019417`*^9, 
  3.6314171107671747`*^9}}],

Cell[BoxData[
 RowBox[{"Dimensions", "@", "data"}]], "Input"],

Cell[BoxData[{
 RowBox[{"Image3D", "@", 
  RowBox[{"(", 
   RowBox[{"data", "/", "2"}], ")"}]}], "\[IndentingNewLine]", 
 RowBox[{"Image3DSlices", "[", 
  RowBox[{"%", ",", "All", ",", "3"}], "]"}]}], "Input",
 CellChangeTimes->{{3.630396433147599*^9, 3.63039646706916*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Phantom Rotation", "Section",
 CellChangeTimes->{{3.630461735668189*^9, 3.630461754460966*^9}, {
  3.630634827503471*^9, 3.630634829548345*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"regions", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"Phantom3DRegion", "[", 
      RowBox[{"{", 
       RowBox[{"RotationTransform", "[", 
        RowBox[{"#", ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "1"}], "}"}]}], "]"}], "}"}], "]"}], 
     "&"}], "/@", 
    RowBox[{"Table", "[", 
     RowBox[{"\[Theta]", ",", 
      RowBox[{"{", 
       RowBox[{"\[Theta]", ",", "0", ",", "\[Pi]", ",", 
        FractionBox["\[Pi]", "8"]}], "}"}]}], "]"}]}]}], ";"}]], "Input",
 CellChangeTimes->{{3.630396568243231*^9, 3.6303966021386137`*^9}, {
   3.630396637406382*^9, 3.630396638628778*^9}, {3.630652687818555*^9, 
   3.630652694552493*^9}, {3.631414319440474*^9, 3.631414329802209*^9}, {
   3.631414363339032*^9, 3.631414370878995*^9}, {3.631414406088731*^9, 
   3.631414409950419*^9}, {3.631414531401582*^9, 3.631414569164483*^9}, {
   3.631414613984085*^9, 3.631414648644784*^9}, 3.631414693018298*^9, {
   3.631414723631662*^9, 3.631414782618952*^9}, {3.631416104517376*^9, 
   3.631416105122408*^9}, 3.631417158263865*^9, {3.631417203192178*^9, 
   3.6314172232221518`*^9}, {3.631420878322111*^9, 3.6314208809101257`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"range", "=", 
   RowBox[{"Drop", "[", 
    RowBox[{
     RowBox[{"Range", "[", 
      RowBox[{
       RowBox[{"-", "1"}], ",", "1", ",", "0.008"}], "]"}], ",", 
     RowBox[{"-", "1"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"points", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"x", ",", "y", ",", 
       RowBox[{"-", "0.25"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"x", ",", "range"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"y", ",", "range"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"data", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"Phantom3DRegionToData", "[", 
      RowBox[{"#", ",", "points"}], "]"}], "&"}], "/@", "regions"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.630396658075794*^9, 3.630396658313499*^9}, {
  3.63039669007725*^9, 3.63039670848562*^9}, {3.630396770749878*^9, 
  3.6303967842070436`*^9}, {3.630653765163413*^9, 3.630653766221587*^9}}],

Cell[BoxData[
 RowBox[{"Image", "/@", 
  RowBox[{"(", 
   RowBox[{"data", "/", "2"}], ")"}]}]], "Input",
 CellChangeTimes->{{3.630396718945257*^9, 3.630396726696479*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Phantom Transmission Image", "Section",
 CellChangeTimes->{{3.630461809507539*^9, 3.630461818186158*^9}, 
   3.630461853469234*^9, {3.630632139545857*^9, 3.630632139647999*^9}, {
   3.6306348438018827`*^9, 3.630634843948152*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"region", "=", 
   RowBox[{"Phantom3DRegion", "[", 
    RowBox[{"{", 
     RowBox[{"RotationTransform", "[", 
      RowBox[{
       FractionBox["\[Pi]", "4"], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "1"}], "}"}]}], "]"}], "}"}], "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.630461897563425*^9, 3.630461907959258*^9}, {
  3.6306328057381*^9, 3.630632807984021*^9}, {3.63141726521626*^9, 
  3.631417270112104*^9}, {3.631420884072006*^9, 3.631420886311717*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"range", "=", 
   RowBox[{"Drop", "[", 
    RowBox[{
     RowBox[{"Range", "[", 
      RowBox[{
       RowBox[{"-", "1"}], ",", "1", ",", "0.008"}], "]"}], ",", 
     RowBox[{"-", "1"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"points", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"x", ",", "y", ",", "z"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"x", ",", "range"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"y", ",", "range"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"z", ",", "range"}], "}"}]}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.6304619343543*^9, 3.630461936609783*^9}, 
   3.630462135774619*^9, {3.630463846442885*^9, 3.6304638722256203`*^9}, {
   3.6304639684015493`*^9, 3.63046396872924*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"data", "=", 
   RowBox[{"Phantom3DRegionToData", "[", 
    RowBox[{"region", ",", "points"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Dimensions", "@", "data"}]}], "Input",
 CellChangeTimes->{{3.63046214374879*^9, 3.630462149110009*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Table", "[", 
   RowBox[{
    RowBox[{"data", "[", 
     RowBox[{"[", 
      RowBox[{"All", ",", "All", ",", "z"}], "]"}], "]"}], ",", 
    RowBox[{"{", 
     RowBox[{"z", ",", "1", ",", 
      RowBox[{"Length", "[", "range", "]"}]}], "}"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Apply", "[", 
   RowBox[{"Plus", ",", "%", ",", 
    RowBox[{"{", "2", "}"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Max", "@", "%"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Image", "@", 
  RowBox[{"(", 
   RowBox[{"%%", "/", "%"}], ")"}]}]}], "Input",
 CellChangeTimes->{{3.630461473338546*^9, 3.630461488841394*^9}, {
  3.6304615229139147`*^9, 3.630461566117509*^9}, {3.6304616204699507`*^9, 
  3.630461663161531*^9}, {3.630632446301279*^9, 3.630632459180842*^9}, {
  3.6306325201437073`*^9, 3.630632534362235*^9}, {3.630632581052412*^9, 
  3.630632587927174*^9}, {3.6306326195491867`*^9, 3.6306326418343277`*^9}, {
  3.630632696205159*^9, 3.630632700828261*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Reconstruction", "Section",
 CellChangeTimes->{{3.630461809507539*^9, 3.630461818186158*^9}, 
   3.630461853469234*^9, {3.63047232502594*^9, 3.630472325144351*^9}, {
   3.630548114765057*^9, 3.6305481148536453`*^9}, {3.630632136925313*^9, 
   3.630632137048306*^9}, {3.630634799600842*^9, 3.630634806643482*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"regions", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"Phantom3DRegion", "[", 
      RowBox[{"{", 
       RowBox[{"RotationTransform", "[", 
        RowBox[{"#", ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "1"}], "}"}]}], "]"}], "}"}], "]"}], 
     "&"}], "/@", 
    RowBox[{"Table", "[", 
     RowBox[{"\[Theta]", ",", 
      RowBox[{"{", 
       RowBox[{"\[Theta]", ",", "0", ",", "\[Pi]", ",", 
        FractionBox["\[Pi]", "180"]}], "}"}]}], "]"}]}]}], ";"}]], "Input",
 CellChangeTimes->{{3.630461897563425*^9, 3.630461907959258*^9}, {
   3.630472331497147*^9, 3.6304723568596888`*^9}, 3.6304885947667933`*^9, {
   3.6305481189833612`*^9, 3.6305481195703297`*^9}, {3.63141900613415*^9, 
   3.631419019022481*^9}, {3.631420889867941*^9, 3.6314208932173023`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"range", "=", 
   RowBox[{"Drop", "[", 
    RowBox[{
     RowBox[{"Range", "[", 
      RowBox[{
       RowBox[{"-", "1"}], ",", "1", ",", "0.008"}], "]"}], ",", 
     RowBox[{"-", "1"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"points", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"x", ",", "y", ",", 
       RowBox[{"-", "0.25"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"x", ",", "range"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"y", ",", "range"}], "}"}]}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.6304619343543*^9, 3.630461936609783*^9}, 
   3.630462135774619*^9, {3.630463846442885*^9, 3.6304638722256203`*^9}, {
   3.6304639684015493`*^9, 3.63046396872924*^9}, {3.6306320473582153`*^9, 
   3.630632056905341*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"data", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"Phantom3DRegionToData", "[", 
      RowBox[{"#", ",", "points"}], "]"}], "&"}], "/@", "regions"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.6304886319382353`*^9, 3.63048864058479*^9}, {
  3.630488683758025*^9, 3.6304887025130157`*^9}, {3.630548130697822*^9, 
  3.630548158572204*^9}, {3.630548236873744*^9, 3.6305482487759857`*^9}, {
  3.6305491475877666`*^9, 3.630549159341073*^9}, {3.630633029465398*^9, 
  3.6306330353558273`*^9}}],

Cell[BoxData[
 RowBox[{"Image3D", "[", 
  RowBox[{"data", "/", 
   RowBox[{"Max", "[", "data", "]"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.630633146638129*^9, 3.63063315874576*^9}, {
  3.6306332081888533`*^9, 3.630633208435314*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Apply", "[", 
   RowBox[{"Plus", ",", "data", ",", 
    RowBox[{"{", "2", "}"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Image", "[", 
  RowBox[{"%", "/", 
   RowBox[{"Max", "@", "%"}]}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"InverseRadon", "[", 
   RowBox[{"Image", "@", 
    RowBox[{"Transpose", "@", 
     RowBox[{"ImageData", "@", "%"}]}]}], "]"}], "//", 
  "ImageAdjust"}]}], "Input",
 CellChangeTimes->{{3.630634612964342*^9, 3.630634636286421*^9}, {
  3.630634752861443*^9, 3.630634783608534*^9}, {3.630635668858344*^9, 
  3.6306356760763073`*^9}, {3.630641863254417*^9, 3.630641898617556*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Test", "Section",
 CellChangeTimes->{{3.630461809507539*^9, 3.630461818186158*^9}, 
   3.630461853469234*^9, {3.63047232502594*^9, 3.630472325144351*^9}, {
   3.630548114765057*^9, 3.6305481148536453`*^9}, {3.630632136925313*^9, 
   3.630632137048306*^9}, {3.630634799600842*^9, 3.630634806643482*^9}, {
   3.63130908601392*^9, 3.631309086496543*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Phantom3DRegion", "[", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"RotationTransform", "[", 
      RowBox[{
       FractionBox["\[Pi]", "4"], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "1"}], "}"}]}], "]"}], ",", 
     RowBox[{"TranslationTransform", "[", 
      RowBox[{"{", 
       RowBox[{"0.5", ",", "0.5", ",", "0"}], "}"}], "]"}]}], "}"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"RegionPlot3D", "[", 
  RowBox[{"%", ",", 
   RowBox[{"PlotRange", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"All", ",", "All", ",", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"-", "0.5"}], ",", "0.5"}], "}"}]}], "}"}]}]}], 
  "]"}]}], "Input",
 CellChangeTimes->{{3.631432478317195*^9, 3.6314326501498957`*^9}, {
  3.631432735167994*^9, 3.631432800435615*^9}}]
}, Open  ]]
}, Open  ]]
},
WindowSize->{992, 751},
WindowMargins->{{Automatic, 67}, {69, Automatic}},
FrontEndVersion->"10.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (September 9, \
2014)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[422, 15, 246, 3, 65, "Chapter"],
Cell[CellGroupData[{
Cell[693, 22, 163, 2, 64, "Section"],
Cell[859, 26, 747, 16, 28, "Input"],
Cell[1609, 44, 962, 28, 63, "Input"],
Cell[2574, 74, 61, 1, 28, "Input"],
Cell[2638, 77, 274, 6, 46, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[2949, 88, 150, 2, 64, "Section"],
Cell[3102, 92, 1183, 25, 46, "Input"],
Cell[4288, 119, 1015, 30, 63, "Input"],
Cell[5306, 151, 170, 4, 28, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[5513, 160, 235, 3, 64, "Section"],
Cell[5751, 165, 521, 13, 45, "Input"],
Cell[6275, 180, 824, 23, 46, "Input"],
Cell[7102, 205, 286, 7, 46, "Input"],
Cell[7391, 214, 1031, 25, 80, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[8459, 244, 318, 4, 64, "Section"],
Cell[8780, 250, 824, 20, 46, "Input"],
Cell[9607, 272, 835, 23, 46, "Input"],
Cell[10445, 297, 524, 12, 28, "Input"],
Cell[10972, 311, 236, 5, 28, "Input"],
Cell[11211, 318, 661, 16, 63, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[11909, 339, 357, 5, 64, "Section"],
Cell[12269, 346, 825, 24, 64, "Input"]
}, Open  ]]
}, Open  ]]
}
]
*)

